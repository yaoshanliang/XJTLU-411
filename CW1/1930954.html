<!DOCTYPE html>
<html lang="en-us">

<head>
    <title>XJTLU Music Festival</title>
    <meta charset="utf-8" />
    <meta name="description" content="XJTLU Music Festival" />
    <link rel="shortcut icon" href="./images/favicon.ico" />
    <script src="./js/data.js"></script>
    <script src="./js/function.js"></script>
    <script type="text/javascript"
        src="http://api.map.baidu.com/api?v=3.0&ak=E4805d16520de693a3fe707cdc962045"></script>
    <link rel="stylesheet" href="./css/style.css" />
</head>

<body>
    <!-- header section -->
    <section class="banner" id="banner">
        <header id="header">
            <div class="header-content">
                <span class="logo">
                    <a href="1930954.html">XJTLU Music Festival</a>
                </span>
                <nav class="navigation">
                    <ul class="primary-nav">
                        <li><a href="#banner" class="active">Home</a></li>
                        <li><a href="#playlist" class="">Playlist</a></li>
                        <li><a href="#gallery" class="">Gallery</a></li>
                        <li><a href="#information" class="">About</a></li>
                        <li><a href="#app" class="">Map</a></li>
                    </ul>
                </nav>
            </div>
        </header>

        <!-- banner text -->
        <div class="container">
            <div class="col-md-10">
                <div class="banner-text">
                    <h1>Music Festival</h1>
                    <p>Enjoy the live event</p>
                    <div><strong>18:00, 1 May 2021, XJTLU.</strong></div>
                    <div class="countdown">
                        <div class="countdown-container days"><span class="countdown-value days-bottom"
                                id="days-number">--</span><span class="countdown-heading days-top">Days</span></div>
                        <div class="countdown-container hours"><span class="countdown-value hours-bottom"
                                id="hours-number">--</span><span class="countdown-heading hours-top">Hours</span></div>
                        <div class="countdown-container minutes"><span class="countdown-value minutes-bottom"
                                id="minutes-number">--</span><span class="countdown-heading minutes-top">Minutes</span>
                        </div>
                        <div class="countdown-container seconds"><span class="countdown-value seconds-bottom"
                                id="seconds-number">--</span><span class="countdown-heading seconds-top">Seconds</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- banner text -->
    </section>
    <!-- header section -->

    <!-- playlist section -->
    <section id="playlist" class="playlist">
        <div class="container">
            <div class="section-header">
                <h2>Playlist</h2>
                <p>Songs to be sung at the festival</p>
            </div>

            <div class="row">
                <div class="audio">
                    <div class="type-playlist">
                        <div class="music-player">
                            <!-- audio -->
                            <audio class="music-player-audio" id="audio-item" src=""></audio>
                            <div class="music-player-main">
                                <div class="music-player-blur" id="song-background"></div>
                                <div class="music-player-disc">
                                    <div class="music-player-image">
                                        <img width="100%" id="song-icon" src="" alt="">
                                    </div>
                                </div>
                                <div class="music-player-controls">
                                    <div class="music-info">
                                        <h3 class="music-info-title" id="song-name"></h3>
                                        <p class="music-info-singer" id="song-singer"></p>
                                    </div>
                                    <div class="player-control">
                                        <div class="player-control-content">
                                            <div class="player-control-btns">
                                                <div class="player-control-btn player-control-btn-next" id="previous"
                                                    onclick="previous();">
                                                    <img src="./images/music_previous.png"></div>
                                                <div class="player-control-btn player-control-btn-play" id="play"
                                                    onclick="play();">
                                                    <img src="./images/music_play.png"></div>
                                                <div class="player-control-btn player-control-btn-play" id="stop"
                                                    style="display: none;" onclick="pauseplay();">
                                                    <img src="./images/music_stop.png"></div>
                                                <div class="player-control-btn player-control-btn-next" id="next"
                                                    onclick="next();">
                                                    <img src="./images/music_next.png"></div>
                                            </div>
                                            <div class="player-control-volume">
                                                <div class="control-volume-icon player-control-btn" id="sound"
                                                    onclick="mute();">
                                                    <img src="./images/sound.png"></div>
                                                <div class="control-volume-icon player-control-btn" id="mute"
                                                    style="display: none;" onclick="sound();">
                                                    <img src="./images/sound_mute.png"></div>
                                                <div class="control-volume-progress progress">
                                                    <div class="back" id="volumeBar"></div>
                                                </div>
                                                <div class="control-volume-icon player-control-btn" id="minus"
                                                    onclick="volumeDown();">
                                                    <img src="./images/minus.png">
                                                </div>
                                                <div class="control-volume-icon player-control-btn" id="add"
                                                    onclick="volumeUp();"><img src="./images/add.png">
                                                </div>
                                            </div>
                                        </div>

                                        <div class="player-control-content">
                                            <div class="player-song-progress progress">
                                                <div class="back" id="bar"></div>
                                            </div>
                                            <div class="player-song-timeProgess nowTime" id="nowTime">0:00</div>
                                            <div class="player-song-timeProgess totalTime" id="totalTime">0:00
                                            </div>
                                        </div>

                                    </div>

                                </div>
                            </div>
                        </div>
                        <!--play list-->
                        <div id="songlist">

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- playlist section -->

    <!-- gallery section -->
    <section id="gallery" class="gallery">
        <div class="container">
            <div class="section-header">
                <h2>Gallery</h2>
                <p>Photos from the event at the previous festival</p>
            </div>

            <div class="row" id="galleryList">
            </div>
        </div>

        <div id="zoom" style="display: none;">
            <a class="close" onclick="closeImage();"></a>
            <a class="previous" onclick="previousImage();"></a>
            <a class="next" onclick="nextImage();"></a>
            <div class="content" style="width: 441px; height: 660px; margin-top: -330px; margin-left: -320.5px;">
                <img id="zoomImage" width="600px;" height="500;">
            </div>
        </div>
    </section>
    <!-- gallery section -->


    <!-- services section -->
    <section id="information" class="services service-section">
        <div class="container">
            <div class="section-header">
                <h2 class="wow fadeInDown animated">About the festival</h2>
                <p class="wow fadeInDown animated">XJTLU Music Festival is an annual large-scale music event organized
                    by the XJTLU Music Lovers Association.<br> Music lovers from more than 50 countries around the world
                    will gather here to enjoy the shock and charm brought by music.</p>
            </div>
            <div class="row">
                <div class="col-md-4 col-sm-6 services text-center">
                    <img src="./images/music1.png" />
                    <div class="services-content">
                        <h5>XJTLU</h5>
                        <p>Xi’an Jiaotong-Liverpool University (XJTLU) is an international joint venture university
                            founded by Xi’an Jiaotong University in China and the University of Liverpool in the United
                            Kingdom. As an independent Sino-foreign cooperative university, it captures the essence of
                            both prestigious parent universities and is the first and only one of its kind approved by
                            the Ministry of Education in China.</p>
                    </div>
                </div>
                <div class="col-md-4 col-sm-6 services text-center">
                    <img src="./images/music2.png" />
                    <div class="services-content">
                        <h5>XJTLU Music Lovers Association</h5>
                        <p>XJTLU Music Lovers Association is composed of college students, including undergraduates,
                            graduate students, and doctoral students. They all have musical talents, and many people
                            have achieved excellent results in domestic and international competitions. They also often
                            organize various musical activities, enrich the spare time of the school, and promote the
                            exchanges between students.</p>
                    </div>
                </div>
                <div class="col-md-4 col-sm-6 services text-center">
                    <img src="./images/music3.png" />

                    <div class="services-content">
                        <h5>XJTLU Music Festival</h5>
                        <p>The XJTLU Music Festival has been successfully held for six sessions, attracting more than
                            100 famous singers to sing. The 2020 music festival will invite more than 20 excellent
                            singers to sing, and more than 3,000 students and teachers will be able to enjoy the
                            festival. At the music festival, everyone can exchange music, create, and inspire each
                            other, inspiring more music passion.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- services section -->

    <section id="app">
        <div class="container">
            <div class="section-header">
                <h2 class="wow fadeInDown animated">Map</h2>
                <p class="wow fadeInDown animated">We are located in 111 Ren'ai Road, Suzhou Dushu Lake Science and
                    Education Innovation District, Suzhou Industrial Park.</p>
            </div>
            <div id="map"></div>
            <div id="panorama"></div>
            <div id="svInfoText"></div>
        </div>
    </section>
</body>

<footer>
    <div class="container">
        <div class="text-center">
            <p class="copyright"><small>Copyright © 2020. Shanliang Yao All rights reserved.
                    <a target="_blank" href="https://about.iat.net.cn/">苏ICP备18065142号-1</a></small>
            </p>
        </div>
    </div>
</footer>
<script>

    // Calculate the left time
    setInterval("countdown()", 1000);

    // Define the current song id
    let currentSong = 0;

    // Define the length of current song
    let duration = 0;

    // Play, pause, volume up and volume down
    let audiop = document.getElementById("audio-item");
    

    let lastVolume = 0;
    
    // Calculate the process of this song
    audiop.load();
    audiop.oncanplay = function () {
        duration = audiop.duration
    }

    audiop.addEventListener('timeupdate', updatePlayBar, false);
    
    // Show songs
    let html = '';
    for (let i = 0; i < songs.length; i++) {
        html += '<div class="songItem" id="song-item-' + i + '"  onclick="playSong(' + i + ')">' +
            '<img class="songImage" src="./audio/' + songs[i].image + '">' +
            '<div class="songName">' + songs[i].name + '</div>' +
            '<div class="songSinger">' + songs[i].singer + '</div>' +
            '</div>';
    }
    document.getElementById("songlist").innerHTML = html;

    // Init the first song
    audiop.setAttribute('src', './audio/' + songs[0].path);
    document.getElementById("song-name").innerText = songs[0].name;
    document.getElementById("song-singer").innerText = songs[0].singer;
    document.getElementById("song-icon").setAttribute("src", './audio/' + songs[0].image);
    document.getElementById("song-background").setAttribute("background-image", "url(" + './audio/' + songs[0].image + ")");
    document.getElementsByClassName("songItem")[0].classList.add("currentSong");
    document.getElementById("volumeBar").style.width = parseFloat((audiop.volume * 100), 10) + "%"

    let currentImage = 0;
    html = '';
    for (let i = 0; i < gallery.length; i++) {
        html += '<div class="col-md-3"  onclick="showImage(' + i + ')">' +
            '<img class="galleryImage" src="./gallery/' + gallery[i] + '">' +
            '</div>';
    }
    document.getElementById("galleryList").innerHTML = html;

    // Show map
    var map = new BMap.Map("map");
    var point = new BMap.Point(120.746339, 31.279684); 
    map.centerAndZoom(point, 17);
    map.enableScrollWheelZoom(); 
    map.addControl(new BMap.MapTypeControl({
        mapTypes: [
            BMAP_NORMAL_MAP,
            BMAP_HYBRID_MAP
        ]
    }));
    map.addControl(new BMap.NavigationControl());
    var marker = new BMap.Marker(point); 
    map.addOverlay(marker);   
    map.centerAndZoom(point, 15);

    // Add infoWindow
    var sContent =
        "<h4 style='margin:0 0 5px 0;padding:0.2em 0'>Xi'an Jiaotong-Liverpool University</h4>" +
        "<img style='float:right;margin:4px' id='imgDemo' src='./images/XJTLU.jpg' width='139' height='104' title='天安门'/>" +
        "<p style='margin:0;line-height:1.5;font-size:13px;'>111 Ren'ai Road <br><br>Suzhou Dushu Lake Science and Education Innovation District<br> <br>Suzhou Industrial Park</p>" +
        "</div>";
    var infoWindow = new BMap.InfoWindow(sContent);
    map.openInfoWindow(infoWindow, point);

    // Show panorama
    var panorama = new BMap.Panorama('panorama');
    panorama.setPosition(new BMap.Point(120.74568955977745, 31.277849662778582)); 

</script>

</html>